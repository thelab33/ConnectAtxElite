<section
  id="cta"
  role="region"
  aria-labelledby="cta-heading"
  class="relative py-28 bg-secondary text-foreground text-center px-6"
  tabindex="-1"
>
  <div class="max-w-3xl mx-auto space-y-10">
    <!-- Headline & Sub-Headline -->
    <h2
      id="cta-heading"
      class="text-4xl sm:text-5xl font-extrabold text-primary drop-shadow-lg"
      data-aos="fade-up"
    >
      Ready to Join Our Mission?
    </h2>
    <p
      class="text-foreground/85 text-lg sm:text-xl leading-relaxed"
      data-aos="fade-up"
      data-aos-delay="100"
    >
      Help us secure gym time, fund travel, and empower our student-athletes for
      life beyond the court.
    </p>

    <!-- Live Progress Bar -->
    <div
      class="w-full bg-zinc-800 rounded-full h-4 overflow-hidden"
      data-aos="fade-up"
      data-aos-delay="200"
      aria-hidden="true"
    >
      <div
        class="h-4 bg-primary shadow-gold-glow transition-all duration-1000"
        style="width: {{ (raised/goal*100) | round(0) }}%"
      ></div>
    </div>
    <div
      class="flex justify-center items-center gap-2 font-mono text-sm text-foreground/80"
      aria-live="polite"
      data-aos="fade-up"
      data-aos-delay="300"
    >
      <span role="img" aria-label="Fundraiser">ðŸ’°</span>
      <span>
        <span class="font-bold text-primary">${{ "{:,}".format(raised) }}</span>
        of
        <span class="font-bold text-primary">${{ "{:,}".format(goal) }}</span>
        goal
      </span>
    </div>

    <!-- Urgency Countdown -->
    <div
      id="countdown"
      class="text-primary/80 font-medium"
      data-aos="fade-up"
      data-aos-delay="400"
      aria-live="polite"
    >
      <span id="cd-days">--</span>d <span id="cd-hours">--</span>h
      <span id="cd-mins">--</span>m left to hit our goal!
    </div>

    <!-- Preset Gift Buttons + Custom Amount -->
    <div
      class="flex flex-wrap justify-center gap-3"
      data-aos="fade-up"
      data-aos-delay="500"
    >
      {% for amt in [25,50,100,250] %}
      <button
        class="preset-amt bg-zinc-700 hover:bg-zinc-600 px-4 py-2 rounded-full transition"
        data-amt="{{ amt }}"
      >
        ${{ amt }}
      </button>
      {% endfor %}
      <input
        id="customAmt"
        type="number"
        min="1"
        max="999"
        placeholder="Custom"
        class="w-20 bg-zinc-800 text-foreground text-center rounded-full px-3 py-2 focus:outline-none"
      />
    </div>

    <!-- Donate Button (Modal + Confetti) -->
    <button
      id="donateBtn"
      class="mt-4 inline-block bg-primary text-secondary font-semibold text-lg px-8 py-3 rounded-full shadow-gold-glow hover:scale-105 hover:bg-primary-hover focus-visible:ring-4 focus-visible:ring-primary transition-transform duration-300"
      data-aos="fade-up"
      data-aos-delay="600"
    >
      Donate Now
    </button>

    <!-- QR Code fallback -->
    <div
      class="pt-6 flex flex-col items-center gap-1"
      data-aos="fade-up"
      data-aos-delay="700"
    >
      <img
        src="{{ url_for('static', filename='qr-website.png') }}"
        alt="Donate via QR Code"
        width="128"
        height="128"
        class="rounded-lg shadow-lg opacity-75 hover:opacity-100 transition"
        loading="lazy"
      />
      <p class="text-xs text-foreground/60">Scan: CashApp / PayPal / Venmo</p>
    </div>

    <p
      class="pt-6 text-sm text-foreground/60"
      data-aos="fade-up"
      data-aos-delay="800"
    >
      Or contact
      <a href="mailto:arodgps@gmail.com" class="underline hover:text-primary"
        >arodgps@gmail.com</a
      >
      &nbsp;| ðŸ“ž (512) 820-0475
    </p>
  </div>

  <!-- Donation Modal -->
  <dialog
    id="donateDialog"
    class="w-full max-w-md p-0 rounded-2xl overflow-hidden"
  >
    <form
      id="donateForm"
      method="dialog"
      class="bg-secondary text-foreground p-6 space-y-4"
    >
      <h3 class="text-2xl font-bold text-primary">Enter Donation Amount</h3>
      <input
        name="amount"
        id="formAmt"
        type="number"
        min="1"
        max="999"
        required
        class="w-full bg-zinc-800 rounded-full px-4 py-2 text-center focus:outline-none"
      />
      <div class="flex justify-end gap-2">
        <button
          type="reset"
          class="px-4 py-2 rounded-full bg-zinc-700 hover:bg-zinc-600"
        >
          Cancel
        </button>
        <button
          type="submit"
          class="px-6 py-2 rounded-full bg-primary text-secondary font-bold hover:bg-primary-hover"
        >
          Donate
        </button>
      </div>
    </form>
  </dialog>
</section>
